let _;const N=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&N.decode();let x=null;function L(){return(x===null||x.byteLength===0)&&(x=new Uint8Array(_.memory.buffer)),x}function d(r,t){return r=r>>>0,N.decode(L().subarray(r,r+t))}const O=new Array(128).fill(void 0);O.push(void 0,null,!0,!1);let W=O.length;function g(r){W===O.length&&O.push(O.length+1);const t=W;if(W=O[t],typeof W!="number")throw new Error("corrupt heap");return O[t]=r,t}function i(r){return O[r]}function z(r){r<132||(O[r]=W,W=r)}function p(r){const t=i(r);return z(r),t}function M(r){if(typeof r!="boolean")throw new Error("expected a boolean argument")}let l=0;const U=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},V=typeof U.encodeInto=="function"?function(r,t){return U.encodeInto(r,t)}:function(r,t){const e=U.encode(r);return t.set(e),{read:r.length,written:e.length}};function v(r,t,e){if(typeof r!="string")throw new Error("expected a string argument");if(e===void 0){const b=U.encode(r),f=t(b.length,1)>>>0;return L().subarray(f,f+b.length).set(b),l=b.length,f}let n=r.length,o=t(n,1)>>>0;const c=L();let a=0;for(;a<n;a++){const b=r.charCodeAt(a);if(b>127)break;c[o+a]=b}if(a!==n){a!==0&&(r=r.slice(a)),o=e(o,n,n=a+r.length*3,1)>>>0;const b=L().subarray(o+a,o+n),f=V(r,b);if(f.read!==r.length)throw new Error("failed to pass whole string");a+=f.written}return l=a,o}function y(r){return r==null}let S=null;function u(){return(S===null||S.byteLength===0)&&(S=new Int32Array(_.memory.buffer)),S}function C(r){const t=typeof r;if(t=="number"||t=="boolean"||r==null)return`${r}`;if(t=="string")return`"${r}"`;if(t=="symbol"){const o=r.description;return o==null?"Symbol":`Symbol(${o})`}if(t=="function"){const o=r.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(r)){const o=r.length;let c="[";o>0&&(c+=C(r[0]));for(let a=1;a<o;a++)c+=", "+C(r[a]);return c+="]",c}const e=/\[object ([^\]]+)\]/.exec(toString.call(r));let n;if(e.length>1)n=e[1];else return toString.call(r);if(n=="Object")try{return"Object("+JSON.stringify(r)+")"}catch{return"Object"}return r instanceof Error?`${r.name}: ${r.message}
${r.stack}`:n}function q(r,t,e,n){const o={a:r,b:t,cnt:1,dtor:e},c=(...a)=>{o.cnt++;try{return n(o.a,o.b,...a)}finally{--o.cnt===0&&(_.__wbindgen_export_2.get(o.dtor)(o.a,o.b),o.a=0)}};return c.original=o,c}function w(r,t){try{return r.apply(this,t)}catch(e){let n=function(){try{return e instanceof Error?`${e.message}

Stack:
${e.stack}`:e.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",n),e}}function s(r){if(typeof r!="number")throw new Error("expected a number argument")}function G(r,t,e){s(r),s(t),_._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hcfa11a3d954f8cba(r,t,g(e))}function K(r,t){s(r),s(t),_._dyn_core__ops__function__Fn_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h82f5239a9f693e6a(r,t)}function Q(r,t,e,n){const o={a:r,b:t,cnt:1,dtor:e},c=(...a)=>{o.cnt++;const b=o.a;o.a=0;try{return n(b,o.b,...a)}finally{--o.cnt===0?_.__wbindgen_export_2.get(o.dtor)(b,o.b):o.a=b}};return c.original=o,c}function X(r,t,e){s(r),s(t),_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h2719cfa4210b6747(r,t,g(e))}function at(){const r=_.renderer_build_info();return p(r)}function k(r,t){if(!(r instanceof t))throw new Error(`expected instance of ${t.name}`);return r.ptr}function F(r,t){const e=t(r.length*1,1)>>>0;return L().set(r,e/1),l=r.length,e}let R=null;function J(){return(R===null||R.byteLength===0)&&(R=new Float32Array(_.memory.buffer)),R}let T=null;function Y(){return(T===null||T.byteLength===0)&&(T=new Uint32Array(_.memory.buffer)),T}function Z(r,t){const e=t(r.length*4,4)>>>0;return Y().set(r,e/4),l=r.length,e}function h(r,t){try{return r.apply(this,t)}catch(e){_.__wbindgen_exn_store(g(e))}}function tt(r,t,e,n){s(r),s(t),_.wasm_bindgen__convert__closures__invoke2_mut__hbaaf7f84cc30f75f(r,t,g(e),g(n))}class et{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_createsessionoptions_free(t)}constructor(){const t=_.createsessionoptions_new();return this.__wbg_ptr=t>>>0,this}set format(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=v(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=l;_.createsessionoptions_set_format(this.__wbg_ptr,e,n)}set artifact_content(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=F(t,_.__wbindgen_malloc),n=l;_.createsessionoptions_set_artifact_content(this.__wbg_ptr,e,n)}}class I{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(I.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_pageinfo_free(t)}get page_off(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.pageinfo_page_off(this.__wbg_ptr)>>>0}get width_pt(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.pageinfo_width_pt(this.__wbg_ptr)}get height_pt(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.pageinfo_height_pt(this.__wbg_ptr)}}class D{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(D.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_pagesinfo_free(t)}get page_count(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.pagesinfo_page_count(this.__wbg_ptr)>>>0}page_by_number(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr),s(t);const e=_.pagesinfo_page_by_number(this.__wbg_ptr,t);return e===0?void 0:I.__wrap(e)}page(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr),s(t);const e=_.pagesinfo_page(this.__wbg_ptr,t);return I.__wrap(e)}width(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.pagesinfo_width(this.__wbg_ptr)}height(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.pagesinfo_height(this.__wbg_ptr)}}class rt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_renderpageimageoptions_free(t)}constructor(){const t=_.renderpageimageoptions_new();return this.__wbg_ptr=t>>>0,this}get page_off(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.renderpageimageoptions_page_off(n,this.__wbg_ptr);var t=u()[n/4+0],e=u()[n/4+1];return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set page_off(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr),y(t)||s(t),_.renderpageimageoptions_set_page_off(this.__wbg_ptr,!y(t),y(t)?0:t)}get cache_key(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.renderpageimageoptions_cache_key(n,this.__wbg_ptr);var t=u()[n/4+0],e=u()[n/4+1];let o;return t!==0&&(o=d(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set cache_key(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);var e=y(t)?0:v(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=l;_.renderpageimageoptions_set_cache_key(this.__wbg_ptr,e,n)}get data_selection(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.renderpageimageoptions_data_selection(n,this.__wbg_ptr);var t=u()[n/4+0],e=u()[n/4+1];return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set data_selection(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr),y(t)||s(t),_.renderpageimageoptions_set_data_selection(this.__wbg_ptr,!y(t),y(t)?0:t)}}class A{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(A.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_rendersession_free(t)}render_in_window(t,e,n,o){let c,a;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const m=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.rendersession_render_in_window(m,this.__wbg_ptr,t,e,n,o);var b=u()[m/4+0],f=u()[m/4+1];return c=b,a=f,d(b,f)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(c,a,1)}}get pixel_per_pt(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.rendersession_pixel_per_pt(n,this.__wbg_ptr);var t=u()[n/4+0],e=J()[n/4+1];return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}set pixel_per_pt(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr),_.rendersession_set_pixel_per_pt(this.__wbg_ptr,t)}get background_color(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.rendersession_background_color(n,this.__wbg_ptr);var t=u()[n/4+0],e=u()[n/4+1];let o;return t!==0&&(o=d(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set background_color(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=v(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=l;_.rendersession_set_background_color(this.__wbg_ptr,e,n)}get pages_info(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const t=_.rendersession_pages_info(this.__wbg_ptr);return D.__wrap(t)}get doc_width(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.rendersession_doc_width(this.__wbg_ptr)}get doc_height(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return s(this.__wbg_ptr),_.rendersession_doc_height(this.__wbg_ptr)}source_span(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const a=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr);const b=Z(t,_.__wbindgen_malloc),f=l;_.rendersession_source_span(a,this.__wbg_ptr,b,f);var e=u()[a/4+0],n=u()[a/4+1],o=u()[a/4+2],c=u()[a/4+3];if(c)throw p(o);let m;return e!==0&&(m=d(e,n).slice(),_.__wbindgen_free(e,n*1,1)),m}finally{_.__wbindgen_add_to_stack_pointer(16)}}}class ct{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_rendersessionoptions_free(t)}constructor(){const t=_.rendersessionoptions_new();return this.__wbg_ptr=t>>>0,this}get pixel_per_pt(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.rendersession_pixel_per_pt(n,this.__wbg_ptr);var t=u()[n/4+0],e=J()[n/4+1];return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}set pixel_per_pt(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr),_.rendersession_set_pixel_per_pt(this.__wbg_ptr,t)}get background_color(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.rendersessionoptions_background_color(n,this.__wbg_ptr);var t=u()[n/4+0],e=u()[n/4+1];let o;return t!==0&&(o=d(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set background_color(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=v(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=l;_.rendersessionoptions_set_background_color(this.__wbg_ptr,e,n)}get format(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const n=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.rendersessionoptions_format(n,this.__wbg_ptr);var t=u()[n/4+0],e=u()[n/4+1];let o;return t!==0&&(o=d(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set format(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=v(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=l;_.rendersessionoptions_set_format(this.__wbg_ptr,e,n)}}class ${static __wrap(t){t=t>>>0;const e=Object.create($.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_typstrenderer_free(t)}constructor(){const t=_.typstrenderer_new();return this.__wbg_ptr=t>>>0,this}create_session(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const c=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr);let a=0;if(!y(t)){if(k(t,et),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");a=t.__destroy_into_raw()}_.typstrenderer_create_session(c,this.__wbg_ptr,a);var e=u()[c/4+0],n=u()[c/4+1],o=u()[c/4+2];if(o)throw p(n);return A.__wrap(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}reset(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const o=_.__wbindgen_add_to_stack_pointer(-16);if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");_.typstrenderer_reset(o,this.__wbg_ptr,t.__wbg_ptr);var e=u()[o/4+0],n=u()[o/4+1];if(n)throw p(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}manipulate_data(t,e,n){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const a=_.__wbindgen_add_to_stack_pointer(-16);if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const b=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),f=l,m=F(n,_.__wbindgen_malloc),E=l;_.typstrenderer_manipulate_data(a,this.__wbg_ptr,t.__wbg_ptr,b,f,m,E);var o=u()[a/4+0],c=u()[a/4+1];if(c)throw p(o)}finally{_.__wbindgen_add_to_stack_pointer(16)}}session_from_artifact(t,e){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const a=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr);const b=F(t,_.__wbindgen_malloc),f=l,m=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),E=l;_.typstrenderer_session_from_artifact(a,this.__wbg_ptr,b,f,m,E);var n=u()[a/4+0],o=u()[a/4+1],c=u()[a/4+2];if(c)throw p(o);return A.__wrap(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}render_svg_diff(t,e,n,o,c){let a,b;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const E=_.__wbindgen_add_to_stack_pointer(-16);if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");_.typstrenderer_render_svg_diff(E,this.__wbg_ptr,t.__wbg_ptr,e,n,o,c);var f=u()[E/4+0],m=u()[E/4+1];return a=f,b=m,d(f,m)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(a,b,1)}}svg_data(t,e){let n,o;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const j=_.__wbindgen_add_to_stack_pointer(-16);if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");y(e)||s(e),_.typstrenderer_svg_data(j,this.__wbg_ptr,t.__wbg_ptr,!y(e),y(e)?0:e);var c=u()[j/4+0],a=u()[j/4+1],b=u()[j/4+2],f=u()[j/4+3],m=c,E=a;if(f)throw m=0,E=0,p(b);return n=m,o=E,d(m,E)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(n,o,1)}}get_customs(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const e=_.typstrenderer_get_customs(this.__wbg_ptr,t.__wbg_ptr);return p(e)}render_svg(t,e){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const a=_.__wbindgen_add_to_stack_pointer(-16);if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");_.typstrenderer_render_svg(a,this.__wbg_ptr,t.__wbg_ptr,g(e));var n=u()[a/4+0],o=u()[a/4+1],c=u()[a/4+2];if(c)throw p(o);return n!==0}finally{_.__wbindgen_add_to_stack_pointer(16)}}load_glyph_pack(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const o=_.__wbindgen_add_to_stack_pointer(-16);s(this.__wbg_ptr),_.typstrenderer_load_glyph_pack(o,this.__wbg_ptr,g(t));var e=u()[o/4+0],n=u()[o/4+1];if(n)throw p(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}render_page_to_canvas(t,e,n){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(s(this.__wbg_ptr),k(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");let o=0;if(!y(n)){if(k(n,rt),n.__wbg_ptr===0)throw new Error("Attempt to use a moved value");o=n.__destroy_into_raw()}const c=_.typstrenderer_render_page_to_canvas(this.__wbg_ptr,t.__wbg_ptr,y(e)?0:g(e),o);return p(c)}}class ut{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_typstrendererbuilder_free(t)}add_raw_font(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=_.typstrendererbuilder_add_raw_font(this.__wbg_ptr,g(t));return p(e)}add_web_fonts(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=_.typstrendererbuilder_add_web_fonts(this.__wbg_ptr,g(t));return p(e)}add_glyph_pack(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");s(this.__wbg_ptr);const e=_.typstrendererbuilder_add_glyph_pack(this.__wbg_ptr,g(t));return p(e)}constructor(){try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.typstrendererbuilder_new(o);var t=u()[o/4+0],e=u()[o/4+1],n=u()[o/4+2];if(n)throw p(e);return this.__wbg_ptr=t>>>0,this}finally{_.__wbindgen_add_to_stack_pointer(16)}}build(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const t=this.__destroy_into_raw();s(t);const e=_.typstrendererbuilder_build(t);return p(e)}}async function nt(r,t){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,t)}catch(n){if(r.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const e=await r.arrayBuffer();return await WebAssembly.instantiate(e,t)}else{const e=await WebAssembly.instantiate(r,t);return e instanceof WebAssembly.Instance?{instance:e,module:r}:e}}function B(){const r={};return r.wbg={},r.wbg.__wbindgen_string_new=function(t,e){const n=d(t,e);return g(n)},r.wbg.__wbg_warn_f260f49434e45e62=function(){return w(function(t){console.warn(i(t))},arguments)},r.wbg.__wbindgen_object_drop_ref=function(t){p(t)},r.wbg.__wbg_new_9fb8d994e1c0aaac=function(){return w(function(){const t=new Object;return g(t)},arguments)},r.wbg.__wbg_set_8761474ad72b9bf1=function(){return w(function(t,e,n){i(t)[p(e)]=p(n)},arguments)},r.wbg.__wbindgen_number_new=function(t){return g(t)},r.wbg.__wbg_clientWidth_eca2065ae6dd9dcd=function(){return w(function(t){const e=i(t).clientWidth;return s(e),e},arguments)},r.wbg.__wbg_getAttribute_bff489553dd803cc=function(){return w(function(t,e,n,o){const c=i(e).getAttribute(d(n,o));var a=y(c)?0:v(c,_.__wbindgen_malloc,_.__wbindgen_realloc),b=l;u()[t/4+1]=b,u()[t/4+0]=a},arguments)},r.wbg.__wbg_setinnerHTML_ce0d6527ce4086f2=function(){return w(function(t,e,n){i(t).innerHTML=d(e,n)},arguments)},r.wbg.__wbindgen_object_clone_ref=function(t){const e=i(t);return g(e)},r.wbg.__wbg_instanceof_Window_3e5cd1f48c152d01=function(){return w(function(t){let e;try{e=i(t)instanceof Window}catch{e=!1}const n=e;return M(n),n},arguments)},r.wbg.__wbg_get_7b48513de5dc5ea4=function(){return h(function(t,e){const n=Reflect.get(i(t),i(e));return g(n)},arguments)},r.wbg.__wbindgen_is_function=function(t){const e=typeof i(t)=="function";return M(e),e},r.wbg.__wbg_firstElementChild_f33d0a5033abeb8f=function(){return w(function(t){const e=i(t).firstElementChild;return y(e)?0:g(e)},arguments)},r.wbg.__wbg_call_5da1969d7cd31ccd=function(){return h(function(t,e,n){const o=i(t).call(i(e),i(n));return g(o)},arguments)},r.wbg.__wbg_setAttribute_e7b72a5e7cfcb5a3=function(){return h(function(t,e,n,o,c){i(t).setAttribute(d(e,n),d(o,c))},arguments)},r.wbg.__wbg_set_759f75cd92b612d2=function(){return h(function(t,e,n){const o=Reflect.set(i(t),i(e),i(n));return M(o),o},arguments)},r.wbg.__wbg_new_ffc6d4d085022169=function(){return w(function(){const t=new Array;return g(t)},arguments)},r.wbg.__wbg_push_901f3914205d44de=function(){return w(function(t,e){const n=i(t).push(i(e));return s(n),n},arguments)},r.wbg.__wbg_new_60f57089c7563e81=function(){return w(function(t,e){try{var n={a:t,b:e},o=(a,b)=>{const f=n.a;n.a=0;try{return tt(f,n.b,a,b)}finally{n.a=f}};const c=new Promise(o);return g(c)}finally{n.a=n.b=0}},arguments)},r.wbg.__wbg_typstrenderer_new=function(){return w(function(t){const e=$.__wrap(t);return g(e)},arguments)},r.wbg.__wbg_setTransform_1e902886ef6ea486=function(){return h(function(t,e,n,o,c,a,b){i(t).setTransform(e,n,o,c,a,b)},arguments)},r.wbg.__wbg_setfillStyle_1ebd7d8f502888fa=function(){return w(function(t,e){i(t).fillStyle=i(e)},arguments)},r.wbg.__wbg_fillRect_ae135cf52671cb3d=function(){return w(function(t,e,n,o,c){i(t).fillRect(e,n,o,c)},arguments)},r.wbg.__wbindgen_memory=function(){const t=_.memory;return g(t)},r.wbg.__wbg_buffer_a448f833075b71ba=function(){return w(function(t){const e=i(t).buffer;return g(e)},arguments)},r.wbg.__wbg_newwithbyteoffsetandlength_d0482f893617af71=function(){return w(function(t,e,n){const o=new Uint8Array(i(t),e>>>0,n>>>0);return g(o)},arguments)},r.wbg.__wbg_new_8f67e318f15d7254=function(){return w(function(t){const e=new Uint8Array(i(t));return g(e)},arguments)},r.wbg.__wbg_new_abda76e883ba8a5f=function(){return w(function(){const t=new Error;return g(t)},arguments)},r.wbg.__wbg_stack_658279fe44541cf6=function(){return w(function(t,e){const n=i(e).stack,o=v(n,_.__wbindgen_malloc,_.__wbindgen_realloc),c=l;u()[t/4+1]=c,u()[t/4+0]=o},arguments)},r.wbg.__wbg_error_f851667af71bcfc6=function(){return w(function(t,e){let n,o;try{n=t,o=e,console.error(d(t,e))}finally{_.__wbindgen_free(n,o,1)}},arguments)},r.wbg.__wbg_self_f0e34d89f33b99fd=function(){return h(function(){const t=self.self;return g(t)},arguments)},r.wbg.__wbg_window_d3b084224f4774d7=function(){return h(function(){const t=window.window;return g(t)},arguments)},r.wbg.__wbg_globalThis_9caa27ff917c6860=function(){return h(function(){const t=globalThis.globalThis;return g(t)},arguments)},r.wbg.__wbg_global_35dfdd59a4da3e74=function(){return h(function(){const t=global.global;return g(t)},arguments)},r.wbg.__wbindgen_is_undefined=function(t){const e=i(t)===void 0;return M(e),e},r.wbg.__wbg_newnoargs_c62ea9419c21fbac=function(){return w(function(t,e){const n=new Function(d(t,e));return g(n)},arguments)},r.wbg.__wbg_call_90c26b09837aba1c=function(){return h(function(t,e){const n=i(t).call(i(e));return g(n)},arguments)},r.wbg.__wbg_set_f2740edb12e318cd=function(){return w(function(t,e,n){i(t)[e>>>0]=p(n)},arguments)},r.wbg.__wbg_new_a64e3f2afc2cf2f8=function(){return w(function(t,e){const n=new Error(d(t,e));return g(n)},arguments)},r.wbg.__wbg_resolve_6e1c6553a82f85b7=function(){return w(function(t){const e=Promise.resolve(i(t));return g(e)},arguments)},r.wbg.__wbg_then_3ab08cd4fbb91ae9=function(){return w(function(t,e){const n=i(t).then(i(e));return g(n)},arguments)},r.wbg.__wbg_then_8371cc12cfedc5a2=function(){return w(function(t,e,n){const o=i(t).then(i(e),i(n));return g(o)},arguments)},r.wbg.__wbg_length_1d25fa9e4ac21ce7=function(){return w(function(t){const e=i(t).length;return s(e),e},arguments)},r.wbg.__wbg_set_2357bf09366ee480=function(){return w(function(t,e,n){i(t).set(i(e),n>>>0)},arguments)},r.wbg.__wbg_newwithlength_6c2df9e2f3028c43=function(){return w(function(t){const e=new Uint8Array(t>>>0);return g(e)},arguments)},r.wbg.__wbindgen_string_get=function(t,e){const n=i(e),o=typeof n=="string"?n:void 0;var c=y(o)?0:v(o,_.__wbindgen_malloc,_.__wbindgen_realloc),a=l;u()[t/4+1]=a,u()[t/4+0]=c},r.wbg.__wbg_stringify_e1b19966d964d242=function(){return h(function(t){const e=JSON.stringify(i(t));return g(e)},arguments)},r.wbg.__wbg_revokeObjectURL_9af274f952125d72=function(){return h(function(t,e){URL.revokeObjectURL(d(t,e))},arguments)},r.wbg.__wbg_log_a4530b4fe289336f=function(){return w(function(t){console.log(i(t))},arguments)},r.wbg.__wbg_instanceof_HtmlImageElement_3c3f09de2a0d9341=function(){return w(function(t){let e;try{e=i(t)instanceof HTMLImageElement}catch{e=!1}const n=e;return M(n),n},arguments)},r.wbg.__wbindgen_cb_drop=function(t){const e=p(t).original;if(e.cnt--==1)return e.a=0,!0;const n=!1;return M(n),n},r.wbg.__wbg_restore_7c05e5338cb2f7dc=function(){return w(function(t){i(t).restore()},arguments)},r.wbg.__wbg_setsrc_1499513e3f9920f2=function(){return w(function(t,e,n){i(t).src=d(e,n)},arguments)},r.wbg.__wbg_setonload_057aa205dfbc1daa=function(){return w(function(t,e){i(t).onload=i(e)},arguments)},r.wbg.__wbg_setonerror_798d02958f38c03e=function(){return w(function(t,e){i(t).onerror=i(e)},arguments)},r.wbg.__wbg_newwithu8arraysequenceandoptions_8a6b4effbcac4a62=function(){return h(function(t,e){const n=new Blob(i(t),i(e));return g(n)},arguments)},r.wbg.__wbg_createObjectURL_9fbd9480174d7f02=function(){return h(function(t,e){const n=URL.createObjectURL(i(e)),o=v(n,_.__wbindgen_malloc,_.__wbindgen_realloc),c=l;u()[t/4+1]=c,u()[t/4+0]=o},arguments)},r.wbg.__wbg_save_7222a99e05e4831b=function(){return w(function(t){i(t).save()},arguments)},r.wbg.__wbg_drawImage_e193863962ffad3c=function(){return h(function(t,e,n,o,c,a){i(t).drawImage(i(e),n,o,c,a)},arguments)},r.wbg.__wbg_newwithpathstring_5d5857af991a1793=function(){return h(function(t,e){const n=new Path2D(d(t,e));return g(n)},arguments)},r.wbg.__wbg_clip_221a6cbf2c2f8eb2=function(){return w(function(t,e){i(t).clip(i(e))},arguments)},r.wbg.__wbg_setlineCap_330669b74ac7930c=function(){return w(function(t,e,n){i(t).lineCap=d(e,n)},arguments)},r.wbg.__wbg_setlineJoin_c500a2f6269415a3=function(){return w(function(t,e,n){i(t).lineJoin=d(e,n)},arguments)},r.wbg.__wbg_setmiterLimit_ba6b996b10cbafc7=function(){return w(function(t,e){i(t).miterLimit=e},arguments)},r.wbg.__wbg_setlineDashOffset_1b48454bf76f6403=function(){return w(function(t,e){i(t).lineDashOffset=e},arguments)},r.wbg.__wbg_setLineDash_108d5f6614e2353f=function(){return h(function(t,e){i(t).setLineDash(i(e))},arguments)},r.wbg.__wbg_setlineWidth_d101118d79143f42=function(){return w(function(t,e){i(t).lineWidth=e},arguments)},r.wbg.__wbg_fill_680fbd1051959e06=function(){return w(function(t,e){i(t).fill(i(e))},arguments)},r.wbg.__wbg_setstrokeStyle_1b4551387606453b=function(){return w(function(t,e){i(t).strokeStyle=i(e)},arguments)},r.wbg.__wbg_stroke_17e131a9f9d9d9bc=function(){return w(function(t,e){i(t).stroke(i(e))},arguments)},r.wbg.__wbg_document_d609202d16c38224=function(){return w(function(t){const e=i(t).document;return y(e)?0:g(e)},arguments)},r.wbg.__wbg_createElement_fdd5c113cb84539e=function(){return h(function(t,e,n){const o=i(t).createElement(d(e,n));return g(o)},arguments)},r.wbg.__wbindgen_debug_string=function(t,e){const n=C(i(e)),o=v(n,_.__wbindgen_malloc,_.__wbindgen_realloc),c=l;u()[t/4+1]=c,u()[t/4+0]=o},r.wbg.__wbindgen_throw=function(t,e){throw new Error(d(t,e))},r.wbg.__wbg_queueMicrotask_4d890031a6a5a50c=function(){return w(function(t){queueMicrotask(i(t))},arguments)},r.wbg.__wbg_queueMicrotask_adae4bc085237231=function(){return w(function(t){const e=i(t).queueMicrotask;return g(e)},arguments)},r.wbg.__wbindgen_closure_wrapper2182=function(){return w(function(t,e,n){const o=q(t,e,556,G);return g(o)},arguments)},r.wbg.__wbindgen_closure_wrapper2183=function(){return w(function(t,e,n){const o=q(t,e,556,K);return g(o)},arguments)},r.wbg.__wbindgen_closure_wrapper3613=function(){return w(function(t,e,n){const o=Q(t,e,1231,X);return g(o)},arguments)},r}function H(r,t){return _=r.exports,_t.__wbindgen_wasm_module=t,R=null,S=null,T=null,x=null,_}function wt(r){if(_!==void 0)return _;const t=B();r instanceof WebAssembly.Module||(r=new WebAssembly.Module(r));const e=new WebAssembly.Instance(r,t);return H(e,r)}async function _t(r){if(_!==void 0)return _;typeof r>"u"&&(r=P("typst_ts_renderer_bg.wasm",import.meta.url));const t=B();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:e,module:n}=await nt(await r,t);return H(e,n)}let P=async function(r,t){throw new Error("Cannot import wasm module without importer: "+r+" "+t)};function ot(r){P=r}let it=async function(r,t){const e=new Function("m","return import(m)"),n=await e("path"),{readFileSync:o}=await e("fs"),c=new URL(n.join(n.dirname(t),r));return await o(c).buffer};const st=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;st&&ot(it);export{et as CreateSessionOptions,I as PageInfo,D as PagesInfo,rt as RenderPageImageOptions,A as RenderSession,ct as RenderSessionOptions,$ as TypstRenderer,ut as TypstRendererBuilder,_t as default,wt as initSync,at as renderer_build_info,ot as setImportWasmModule};
